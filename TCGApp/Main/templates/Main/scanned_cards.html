{% extends 'Main/base.html' %}

{% block content %}
<style>
    .scanned-cards-container {
        max-width: 900px; /* Increased max width for larger cards */
        margin: 40px auto;
        padding: 20px;
        text-align: center;
    }

    .scanned-cards-title {
        font-size: 2.5rem; /* Slightly larger title */
        font-weight: bold;
        color: #333;
        margin-bottom: 20px;
    }

    .scanned-cards-grid {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 25px; /* Increased gap for better spacing */
    }

    .scanned-card {
        width: 350px; /* Increased width for larger cards */
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15); /* Slightly deeper shadow */
        background: #f9f9f9;
        padding: 20px; /* Increased padding for better spacing */
        text-align: center;
    }

    .scanned-card img {
        width: 100%;
        height: 400px; /* Increased height for larger images */
        object-fit: cover;
        border-radius: 10px;
    }

    .card-price {
        margin: 15px 0; /* Added margin for spacing */
        font-size: 1.3rem; /* Increased font size for better readability */
        color: #555;
    }

    .delete-btn {
        background-color: red;
        color: white;
        border: none;
        padding: 10px 20px; /* Adjusted padding for a larger button */
        border-radius: 5px;
        cursor: pointer;
        margin-top: 15px; /* Added spacing above the button */
    }

    .delete-btn:hover {
        background-color: darkred;
    }
</style>

<div class="scanned-cards-container">
    <h1 class="scanned-cards-title">Scanned Cards</h1>
    <p>Here you can view and delete your scanned cards.</p>

    <div class="scanned-cards-grid">
        {% for image in images %}
    <div class="scanned-card">
        <img src="{{ image.image.url }}" alt="Scanned Card">
        {% if image.matched_card %}
            <p><strong>{{ image.matched_card.cleanName }}</strong></p>
            <p>Market Price: ${{ image.matched_card.marketPrice }}</p>
        {% else %}
            <p><em>No card match found</em></p>
        {% endif %}
        <form action="{% url 'delete_image' image.id %}" method="POST">
            {% csrf_token %}
            <button type="submit" class="delete-btn">Delete</button>
        </form>
    </div>
{% endfor %}
{% endblock %}